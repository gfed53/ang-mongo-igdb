<div class="search-controls-container">
  <p class="search-controls-header">Filter By:</p>
  <div class="search-controls-btns-container">
    <button (click)="openModal('platforms-modal')" class="search-controls-btn">Platform <i class="fa fa-caret-down"></i></button>
    <div class="platform-labels-container" [@fadeInOut]="selectedPlatforms.length" *ngIf="selectedPlatforms.length && !modalIsOpen">
      <span *ngFor="let platform of platforms">
        <span [@fadeInOut]="platform.checked" *ngIf="platform.checked" class="platform-label" (click)="updateSelectedPlatforms(platform)">
          {{platform.name}} <i class="fa fa-times selected-platform-remove"></i>
        </span>
      </span>
    </div>
  </div>
  <div class="date-filter-container">
    <div class="date-filter">
      <label for="">From:</label>
      <input 
      type="text" 
      [(ngModel)]="filters.dateRange.after" 
      [ngModelOptions]="{updateOn: 'blur'}" 
      #after="ngModel" 
      (keyup)="onChange()" 
      placeholder="e.g. 1990">
      <span 
      *ngIf="(after.dirty && after.touched) && !checkDateValid(filters.dateRange.after)"
      [@fadeInOut]="(after.dirty && after.touched) && !checkDateValid(filters.dateRange.after)"
      class="validation-error">
        Invalid!
      </span>
    </div>
    <div class="date-filter">
      <label for="">To:</label>
      <input 
      type="text" 
      [(ngModel)]="filters.dateRange.before" 
      [ngModelOptions]="{updateOn: 'blur'}" 
      #before="ngModel" 
      (keyup)="onChange()" 
      placeholder="e.g. 2001">
      <span 
      *ngIf="(before.dirty && before.touched) && !checkDateValid(filters.dateRange.before)"
      [@fadeInOut]="(before.dirty && before.touched) && !checkDateValid(filters.dateRange.before)"
      class="validation-error">
        Invalid!
      </span>
    </div>
  </div>
  <!-- (ngModelChange)="filters.dateRange.after=$event" -->
  <modal (onChange)="onModalChange($event)" id="platforms-modal" class="">
    <div class="modal platforms-modal-inner">
      <div class="modal-body">
        <div class="modal-body-header">
          <button (click)="closeModal('platforms-modal')"><i class="fa fa-times"></i></button>
        </div>
        <div *ngFor="let platform of platforms" class="platform-container">
          <label for={{platform.id}}>{{platform.name}}</label>
          <input type="checkbox" name="platform" value={{platform.id}} [checked]="platform.checked" (change)="updateSelectedPlatforms(platform)" />
        </div>
      </div>
    </div>
    <div class="modal-background"></div>
  </modal>


  <!-- Inputs to specify a range -->

</div>

